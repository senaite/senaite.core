<tal:contents_table
  define="portal context/@@plone_portal_state/portal;">

  <tal:css>
    <!-- Colors used from https://mdbootstrap.com/css/colors -->
    <style type="text/css">

     #ajax-contents-table tr { border-left: solid transparent; }

     #ajax-contents-table tr.state-active { border-left: solid transparent; }
     #ajax-contents-table tr.state-inactive { border-left: solid #616161; }

     #ajax-contents-table tr.state-sample_due { border-left: solid #ffff8d !important; }
     #ajax-contents-table tr.state-sample_received { border-left: solid #795548 !important; }
     #ajax-contents-table tr.state-to_be_verified { border-left: solid #18ffff !important; }
     #ajax-contents-table tr.state-verified { border-left: solid #0091ea !important; }
     #ajax-contents-table tr.state-published { border-left: solid #00c853 !important; }
     #ajax-contents-table tr.state-retracted { border-left: solid #ff8a80 !important; }
     #ajax-contents-table tr.state-invalid { border-left: solid #b71c1c; important; }
     #ajax-contents-table tr.state-open { border-left: solid #ab47bc; important; }
     #ajax-contents-table tr.state-attachment_due { border-left: solid #ffc107 !important; }
     #ajax-contents-table tr.state-unassigned { border-left: solid #4a148c !important; }
     #ajax-contents-table tr.state-empty-worksheet { border-left: solid #f8bbd0 !important; }
     #ajax-contents-table tr.state-cancelled { border-left: solid #000000 !important; }

     #ajax-contents-table th { cursor: pointer; }
     #ajax-contents-table th.active.ascending span:after { content: "▲"; margin-left: 0.5em; }
     #ajax-contents-table th.active.descending span:after { content: "▼"; margin-left: 0.5em;}

    </style>
  </tal:css>

  <tal:js
    define="portal_url portal/absolute_url;
            static_url string:${portal_url}/++resource++senaite.core.browser.listing.static;">
    <script type="text/javascript"
            src="senaite.core.listing.js"
            tal:attributes="src string:${static_url}/js/senaite.core.listing.js"></script>
  </tal:js>

  <form name="listing_form"
        method="post"
        i18n:domain="senaite.core"
        tal:attributes="id python:view.form_id;
                        action python:view.getPOSTAction()">

    <input tal:replace="structure context/@@authenticator/authenticator"/>
    <input type="hidden" name="submitted" value="1"/>

    <!-- ReactJS managed component -->
    <div id="ajax-contents-table"
        tal:attributes="data-form_id python:view.form_id;
                        data-api_url python:view.get_api_url();
                        data-pagesize python:view.pagesize;
                        data-columns python:view.ajax_columns();
                        data-review_states python:view.ajax_review_states();">
    </div>
  </form>

</tal:contents_table>
