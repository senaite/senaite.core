<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="senaite.core">

  <body tal:define="form_id view/form_id;
                    table_only python:hasattr(view, 'table_only') and view.table_only or view.request.get('table_only','') == form_id;"
        tal:omit-tag="python:table_only">

    <metal:content-title fill-slot="content-title"
                         tal:define="form_id view/form_id;
                                     checkPermission nocall: context/portal_membership/checkPermission;
                                     table_only python:hasattr(view, 'table_only') and view.table_only or view.request.get('table_only','') == form_id;"
                         tal:condition="python:not table_only">
      <h1>
        <img src="#"
             class="d-inline-block align-middle"
             width="24"
             tal:attributes="src senaite_theme/icon_url/sample"/>

        <span class="d-inline-block align-middle"
              tal:content="python:view.context.translate(view.title)">Samples</span>

        <span tal:condition="python:checkPermission('senaite.core: Add AnalysisRequest', context)"
              class="d-inline-block align-middle ml-2">
          <form method="GET"
                class="form-inline"
                action="ar_add"
                tal:attributes="action string:${context/absolute_url}/ar_add">
            <span class="input-group">
              <input type="number"
                     name="ar_count"
                     min="1"
                     max="99"
                     class="form-control form-control-sm"
                     tal:attributes="value python:view.getDefaultAddCount() or 1"/>
              <span class="input-group-append">
                <button type="submit"
                        class="btn btn-outline-secondary btn-sm">
                  <img src="#"
                       style="height:16px;"
                       tal:attributes="src senaite_theme/icon_url/plus"/>
                  <span tal:omit-tag="python:1" i18n:translate="">Add</span>
                </button>
              </span>
            </span>
          </form>
        </span>
      </h1>
    </metal:content-title>

    <metal:content-description fill-slot="content-description"
                               tal:define="form_id view/form_id;
                                           table_only python:hasattr(view, 'table_only') and view.table_only or view.request.get('table_only','') == form_id;"
                               tal:condition="python:not table_only">
      <div class="documentDescription"
                  tal:content="structure view/description"
		              tal:condition="view/description"/>
    </metal:content-description>

    <metal:content-core fill-slot="content-core">

      <!-- Listing Table -->
	    <div id="folderlisting-main-table"
           tal:content="structure view/contents_table"/>

    </metal:content-core>

  </body>
</html>
