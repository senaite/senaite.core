<configure
    xmlns="http://namespaces.zope.org/zope"
    xmlns:browser="http://namespaces.zope.org/browser"
    xmlns:i18n="http://namespaces.zope.org/i18n"
    i18n_domain="senaite.core">

  <!-- Audit Log: Object Created -->
  <subscriber
      for="*
           Products.Archetypes.interfaces.IObjectInitializedEvent"
      handler=".auditlog.ObjectInitializedEventHandler"
      />

  <!-- Audit Log: Object Modified -->
  <subscriber
      for="*
           Products.Archetypes.interfaces.IObjectEditedEvent"
      handler=".auditlog.ObjectModifiedEventHandler"
      />

  <!-- Audit Log: After Transition Event -->
  <subscriber
      for="*
           Products.CMFCore.interfaces.IActionSucceededEvent"
      handler=".auditlog.ObjectTransitionedEventHandler"
      />

  <!-- Audit Log: Object removed Event -->
  <subscriber
      for="*
           zope.lifecycleevent.interfaces.IObjectRemovedEvent"
      handler=".auditlog.ObjectRemovedEventHandler"
      />

  <!-- Newly created analyses -->
  <subscriber
      for="*
           zope.lifecycleevent.interfaces.IObjectModifiedEvent"
      handler="senaite.core.subscribers.objectmodified.ObjectModifiedEventHandler"
      />

  <!-- Newly created analyses (applies to routine analyses only) -->
  <subscriber
      for="senaite.core.interfaces.IRoutineAnalysis
           Products.Archetypes.interfaces.IObjectInitializedEvent"
      handler="senaite.core.subscribers.analysis.ObjectInitializedEventHandler"
      />

  <!-- Deleted analyses (applies to routine analyses only) -->
  <subscriber
      for="senaite.core.interfaces.IRoutineAnalysis
           zope.lifecycleevent.interfaces.IObjectRemovedEvent"
      handler="senaite.core.subscribers.analysis.ObjectRemovedEventHandler"
      />

  <subscriber
      for="senaite.core.content.samplinground.ISamplingRound
           zope.lifecycleevent.interfaces.IObjectAddedEvent"
      handler="senaite.core.subscribers.samplinground.SamplingRoundAddedEventHandler"
      />

  <!-- Pricelists -->
  <subscriber
      for="senaite.core.interfaces.IPricelist
           zope.lifecycleevent.interfaces.IObjectModifiedEvent"
      handler="senaite.core.subscribers.pricelist.ObjectModifiedEventHandler"
      />

  <!-- Setup: Object modified event -->
  <subscriber
    for="senaite.core.interfaces.IBikaSetup
         zope.lifecycleevent.interfaces.IObjectModifiedEvent"
    handler="senaite.core.subscribers.setup.ObjectModifiedEventHandler" />

  <!-- AnalysisRequest modified
  Apply permissions to object in accordance with the value for InternalUse -->
  <subscriber
    for="senaite.core.interfaces.IAnalysisRequest
         zope.lifecycleevent.interfaces.IObjectModifiedEvent"
    handler="senaite.core.subscribers.analysisrequest.ObjectModifiedEventHandler"
  />

  <!-- AnalysisRequest After Transition
  This subscriber does not override the generic subscriber in charge of handling
  transitions, but is used to update the permissions of the AnalysisRequest in
  accordance with the value for setting InternalUse -->
  <subscriber
    for="senaite.core.interfaces.IAnalysisRequest
         Products.DCWorkflow.interfaces.IAfterTransitionEvent"
    handler="senaite.core.subscribers.analysisrequest.AfterTransitionEventHandler"
  />
</configure>
