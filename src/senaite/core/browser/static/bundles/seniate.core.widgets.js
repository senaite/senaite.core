(()=>{var t={51:t=>{var e;e=function(t){"use strict";return function(){for(var e=[["Afghanistan (‫افغانستان‬‎)","af","93"],["Albania (Shqipëri)","al","355"],["Algeria (‫الجزائر‬‎)","dz","213"],["American Samoa","as","1",5,["684"]],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1",6,["264"]],["Antigua and Barbuda","ag","1",7,["268"]],["Argentina","ar","54"],["Armenia (Հայաստան)","am","374"],["Aruba","aw","297"],["Ascension Island","ac","247"],["Australia","au","61",0],["Austria (Österreich)","at","43"],["Azerbaijan (Azərbaycan)","az","994"],["Bahamas","bs","1",8,["242"]],["Bahrain (‫البحرين‬‎)","bh","973"],["Bangladesh (বাংলাদেশ)","bd","880"],["Barbados","bb","1",9,["246"]],["Belarus (Беларусь)","by","375"],["Belgium (België)","be","32"],["Belize","bz","501"],["Benin (Bénin)","bj","229"],["Bermuda","bm","1",10,["441"]],["Bhutan (འབྲུག)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (Босна и Херцеговина)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1",11,["284"]],["Brunei","bn","673"],["Bulgaria (България)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (កម្ពុជា)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1,["3","4","7"]],["Cayman Islands","ky","1",12,["345"]],["Central African Republic (République centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (中国)","cn","86"],["Christmas Island","cx","61",2,["89164"]],["Cocos (Keeling) Islands","cc","61",1,["89162"]],["Colombia","co","57"],["Comoros (‫جزر القمر‬‎)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["Côte d’Ivoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599",0],["Cyprus (Κύπρος)","cy","357"],["Czech Republic (Česká republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1",13,["767"]],["Dominican Republic (República Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt (‫مصر‬‎)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Eswatini","sz","268"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (Føroyar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358",0],["France","fr","33"],["French Guiana (Guyane française)","gf","594"],["French Polynesia (Polynésie française)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (საქართველო)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (Ελλάδα)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1",14,["473"]],["Guadeloupe","gp","590",0],["Guam","gu","1",15,["671"]],["Guatemala","gt","502"],["Guernsey","gg","44",1,["1481","7781","7839","7911"]],["Guinea (Guinée)","gn","224"],["Guinea-Bissau (Guiné Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (香港)","hk","852"],["Hungary (Magyarország)","hu","36"],["Iceland (Ísland)","is","354"],["India (भारत)","in","91"],["Indonesia","id","62"],["Iran (‫ایران‬‎)","ir","98"],["Iraq (‫العراق‬‎)","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44",2,["1624","74576","7524","7924","7624"]],["Israel (‫ישראל‬‎)","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1",4,["876","658"]],["Japan (日本)","jp","81"],["Jersey","je","44",3,["1534","7509","7700","7797","7829","7937"]],["Jordan (‫الأردن‬‎)","jo","962"],["Kazakhstan (Казахстан)","kz","7",1,["33","7"]],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait (‫الكويت‬‎)","kw","965"],["Kyrgyzstan (Кыргызстан)","kg","996"],["Laos (ລາວ)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (‫لبنان‬‎)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (‫ليبيا‬‎)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (澳門)","mo","853"],["North Macedonia (Македонија)","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (‫موريتانيا‬‎)","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262",1,["269","639"]],["Mexico (México)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (Монгол)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1",16,["664"]],["Morocco (‫المغرب‬‎)","ma","212",0],["Mozambique (Moçambique)","mz","258"],["Myanmar (Burma) (မြန်မာ)","mm","95"],["Namibia (Namibië)","na","264"],["Nauru","nr","674"],["Nepal (नेपाल)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Calédonie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (조선 민주주의 인민 공화국)","kp","850"],["Northern Mariana Islands","mp","1",17,["670"]],["Norway (Norge)","no","47",0],["Oman (‫عُمان‬‎)","om","968"],["Pakistan (‫پاکستان‬‎)","pk","92"],["Palau","pw","680"],["Palestine (‫فلسطين‬‎)","ps","970"],["Panama (Panamá)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Perú)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar (‫قطر‬‎)","qa","974"],["Réunion (La Réunion)","re","262",0],["Romania (România)","ro","40"],["Russia (Россия)","ru","7",0],["Rwanda","rw","250"],["Saint Barthélemy","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1",18,["869"]],["Saint Lucia","lc","1",19,["758"]],["Saint Martin (Saint-Martin (partie française))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1",20,["784"]],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe (São Tomé e Príncipe)","st","239"],["Saudi Arabia (‫المملكة العربية السعودية‬‎)","sa","966"],["Senegal (Sénégal)","sn","221"],["Serbia (Србија)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1",21,["721"]],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (대한민국)","kr","82"],["South Sudan (‫جنوب السودان‬‎)","ss","211"],["Spain (España)","es","34"],["Sri Lanka (ශ්‍රී ලංකාව)","lk","94"],["Sudan (‫السودان‬‎)","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47",1,["79"]],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (‫سوريا‬‎)","sy","963"],["Taiwan (台灣)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (ไทย)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1",22,["868"]],["Tunisia (‫تونس‬‎)","tn","216"],["Turkey (Türkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1",23,["649"]],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1",24,["340"]],["Uganda","ug","256"],["Ukraine (Україна)","ua","380"],["United Arab Emirates (‫الإمارات العربية المتحدة‬‎)","ae","971"],["United Kingdom","gb","44",0],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (Oʻzbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Città del Vaticano)","va","39",1,["06698"]],["Venezuela","ve","58"],["Vietnam (Việt Nam)","vn","84"],["Wallis and Futuna (Wallis-et-Futuna)","wf","681"],["Western Sahara (‫الصحراء الغربية‬‎)","eh","212",1,["5288","5289"]],["Yemen (‫اليمن‬‎)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["Åland Islands","ax","358",1,["18"]]],n=0;n<e.length;n++){var i=e[n];e[n]={name:i[0],iso2:i[1],dialCode:i[2],priority:i[3]||0,areaCodes:i[4]||null}}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o={getInstance:function(t){var e=t.getAttribute("data-intl-tel-input-id");return window.intlTelInputGlobals.instances[e]},instances:{},documentReady:function(){return"complete"===document.readyState}};"object"==typeof window&&(window.intlTelInputGlobals=o);var a=0,s={allowDropdown:!0,autoHideDialCode:!0,autoPlaceholder:"polite",customContainer:"",customPlaceholder:null,dropdownContainer:null,excludeCountries:[],formatOnDisplay:!0,geoIpLookup:null,hiddenInput:"",initialCountry:"",localizedCountries:null,nationalMode:!0,onlyCountries:[],placeholderNumberType:"MOBILE",preferredCountries:["us","gb"],separateDialCode:!1,utilsScript:""},l=["800","822","833","844","855","866","877","880","881","882","883","884","885","886","887","888","889"],u=function(t,e){for(var n=Object.keys(t),i=0;i<n.length;i++)e(n[i],t[n[i]])},c=function(t){u(window.intlTelInputGlobals.instances,(function(e){window.intlTelInputGlobals.instances[e][t]()}))},d=function(){function n(t,e){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.id=a++,this.telInput=t,this.activeItem=null,this.highlightedItem=null;var r=e||{};this.options={},u(s,(function(t,e){i.options[t]=r.hasOwnProperty(t)?r[t]:e})),this.hadInitialPlaceholder=Boolean(t.getAttribute("placeholder"))}var i,o;return i=n,o=[{key:"_init",value:function(){var t=this;if(this.options.nationalMode&&(this.options.autoHideDialCode=!1),this.options.separateDialCode&&(this.options.autoHideDialCode=this.options.nationalMode=!1),this.isMobile=/Android.+Mobile|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.isMobile&&(document.body.classList.add("iti-mobile"),this.options.dropdownContainer||(this.options.dropdownContainer=document.body)),"undefined"!=typeof Promise){var e=new Promise((function(e,n){t.resolveAutoCountryPromise=e,t.rejectAutoCountryPromise=n})),n=new Promise((function(e,n){t.resolveUtilsScriptPromise=e,t.rejectUtilsScriptPromise=n}));this.promise=Promise.all([e,n])}else this.resolveAutoCountryPromise=this.rejectAutoCountryPromise=function(){},this.resolveUtilsScriptPromise=this.rejectUtilsScriptPromise=function(){};this.selectedCountryData={},this._processCountryData(),this._generateMarkup(),this._setInitialState(),this._initListeners(),this._initRequests()}},{key:"_processCountryData",value:function(){this._processAllCountries(),this._processCountryCodes(),this._processPreferredCountries(),this.options.localizedCountries&&this._translateCountriesByLocale(),(this.options.onlyCountries.length||this.options.localizedCountries)&&this.countries.sort(this._countryNameSort)}},{key:"_addCountryCode",value:function(e,n,i){n.length>this.countryCodeMaxLen&&(this.countryCodeMaxLen=n.length),this.countryCodes.hasOwnProperty(n)||(this.countryCodes[n]=[]);for(var r=0;r<this.countryCodes[n].length;r++)if(this.countryCodes[n][r]===e)return;var o=i!==t?i:this.countryCodes[n].length;this.countryCodes[n][o]=e}},{key:"_processAllCountries",value:function(){if(this.options.onlyCountries.length){var t=this.options.onlyCountries.map((function(t){return t.toLowerCase()}));this.countries=e.filter((function(e){return t.indexOf(e.iso2)>-1}))}else if(this.options.excludeCountries.length){var n=this.options.excludeCountries.map((function(t){return t.toLowerCase()}));this.countries=e.filter((function(t){return-1===n.indexOf(t.iso2)}))}else this.countries=e}},{key:"_translateCountriesByLocale",value:function(){for(var t=0;t<this.countries.length;t++){var e=this.countries[t].iso2.toLowerCase();this.options.localizedCountries.hasOwnProperty(e)&&(this.countries[t].name=this.options.localizedCountries[e])}}},{key:"_countryNameSort",value:function(t,e){return t.name.localeCompare(e.name)}},{key:"_processCountryCodes",value:function(){this.countryCodeMaxLen=0,this.dialCodes={},this.countryCodes={};for(var t=0;t<this.countries.length;t++){var e=this.countries[t];this.dialCodes[e.dialCode]||(this.dialCodes[e.dialCode]=!0),this._addCountryCode(e.iso2,e.dialCode,e.priority)}for(var n=0;n<this.countries.length;n++){var i=this.countries[n];if(i.areaCodes)for(var r=this.countryCodes[i.dialCode][0],o=0;o<i.areaCodes.length;o++){for(var a=i.areaCodes[o],s=1;s<a.length;s++){var l=i.dialCode+a.substr(0,s);this._addCountryCode(r,l),this._addCountryCode(i.iso2,l)}this._addCountryCode(i.iso2,i.dialCode+a)}}}},{key:"_processPreferredCountries",value:function(){this.preferredCountries=[];for(var t=0;t<this.options.preferredCountries.length;t++){var e=this.options.preferredCountries[t].toLowerCase(),n=this._getCountryData(e,!1,!0);n&&this.preferredCountries.push(n)}}},{key:"_createEl",value:function(t,e,n){var i=document.createElement(t);return e&&u(e,(function(t,e){return i.setAttribute(t,e)})),n&&n.appendChild(i),i}},{key:"_generateMarkup",value:function(){this.telInput.hasAttribute("autocomplete")||this.telInput.form&&this.telInput.form.hasAttribute("autocomplete")||this.telInput.setAttribute("autocomplete","off");var t="iti";this.options.allowDropdown&&(t+=" iti--allow-dropdown"),this.options.separateDialCode&&(t+=" iti--separate-dial-code"),this.options.customContainer&&(t+=" ",t+=this.options.customContainer);var e=this._createEl("div",{class:t});if(this.telInput.parentNode.insertBefore(e,this.telInput),this.flagsContainer=this._createEl("div",{class:"iti__flag-container"},e),e.appendChild(this.telInput),this.selectedFlag=this._createEl("div",{class:"iti__selected-flag",role:"combobox","aria-controls":"iti-".concat(this.id,"__country-listbox"),"aria-owns":"iti-".concat(this.id,"__country-listbox"),"aria-expanded":"false"},this.flagsContainer),this.selectedFlagInner=this._createEl("div",{class:"iti__flag"},this.selectedFlag),this.options.separateDialCode&&(this.selectedDialCode=this._createEl("div",{class:"iti__selected-dial-code"},this.selectedFlag)),this.options.allowDropdown&&(this.selectedFlag.setAttribute("tabindex","0"),this.dropdownArrow=this._createEl("div",{class:"iti__arrow"},this.selectedFlag),this.countryList=this._createEl("ul",{class:"iti__country-list iti__hide",id:"iti-".concat(this.id,"__country-listbox"),role:"listbox","aria-label":"List of countries"}),this.preferredCountries.length&&(this._appendListItems(this.preferredCountries,"iti__preferred",!0),this._createEl("li",{class:"iti__divider",role:"separator","aria-disabled":"true"},this.countryList)),this._appendListItems(this.countries,"iti__standard"),this.options.dropdownContainer?(this.dropdown=this._createEl("div",{class:"iti iti--container"}),this.dropdown.appendChild(this.countryList)):this.flagsContainer.appendChild(this.countryList)),this.options.hiddenInput){var n=this.options.hiddenInput,i=this.telInput.getAttribute("name");if(i){var r=i.lastIndexOf("[");-1!==r&&(n="".concat(i.substr(0,r),"[").concat(n,"]"))}this.hiddenInput=this._createEl("input",{type:"hidden",name:n}),e.appendChild(this.hiddenInput)}}},{key:"_appendListItems",value:function(t,e,n){for(var i="",r=0;r<t.length;r++){var o=t[r],a=n?"-preferred":"";i+="<li class='iti__country ".concat(e,"' tabIndex='-1' id='iti-").concat(this.id,"__item-").concat(o.iso2).concat(a,"' role='option' data-dial-code='").concat(o.dialCode,"' data-country-code='").concat(o.iso2,"' aria-selected='false'>"),i+="<div class='iti__flag-box'><div class='iti__flag iti__".concat(o.iso2,"'></div></div>"),i+="<span class='iti__country-name'>".concat(o.name,"</span>"),i+="<span class='iti__dial-code'>+".concat(o.dialCode,"</span>"),i+="</li>"}this.countryList.insertAdjacentHTML("beforeend",i)}},{key:"_setInitialState",value:function(){var t=this.telInput.getAttribute("value"),e=this.telInput.value,n=!t||"+"!==t.charAt(0)||e&&"+"===e.charAt(0)?e:t,i=this._getDialCode(n),r=this._isRegionlessNanp(n),o=this.options,a=o.initialCountry,s=o.nationalMode,l=o.autoHideDialCode,u=o.separateDialCode;i&&!r?this._updateFlagFromNumber(n):"auto"!==a&&(a?this._setFlag(a.toLowerCase()):i&&r?this._setFlag("us"):(this.defaultCountry=this.preferredCountries.length?this.preferredCountries[0].iso2:this.countries[0].iso2,n||this._setFlag(this.defaultCountry)),n||s||l||u||(this.telInput.value="+".concat(this.selectedCountryData.dialCode))),n&&this._updateValFromNumber(n)}},{key:"_initListeners",value:function(){this._initKeyListeners(),this.options.autoHideDialCode&&this._initBlurListeners(),this.options.allowDropdown&&this._initDropdownListeners(),this.hiddenInput&&this._initHiddenInputListener()}},{key:"_initHiddenInputListener",value:function(){var t=this;this._handleHiddenInputSubmit=function(){t.hiddenInput.value=t.getNumber()},this.telInput.form&&this.telInput.form.addEventListener("submit",this._handleHiddenInputSubmit)}},{key:"_getClosestLabel",value:function(){for(var t=this.telInput;t&&"LABEL"!==t.tagName;)t=t.parentNode;return t}},{key:"_initDropdownListeners",value:function(){var t=this;this._handleLabelClick=function(e){t.countryList.classList.contains("iti__hide")?t.telInput.focus():e.preventDefault()};var e=this._getClosestLabel();e&&e.addEventListener("click",this._handleLabelClick),this._handleClickSelectedFlag=function(){!t.countryList.classList.contains("iti__hide")||t.telInput.disabled||t.telInput.readOnly||t._showDropdown()},this.selectedFlag.addEventListener("click",this._handleClickSelectedFlag),this._handleFlagsContainerKeydown=function(e){t.countryList.classList.contains("iti__hide")&&-1!==["ArrowUp","Up","ArrowDown","Down"," ","Enter"].indexOf(e.key)&&(e.preventDefault(),e.stopPropagation(),t._showDropdown()),"Tab"===e.key&&t._closeDropdown()},this.flagsContainer.addEventListener("keydown",this._handleFlagsContainerKeydown)}},{key:"_initRequests",value:function(){var t=this;this.options.utilsScript&&!window.intlTelInputUtils?window.intlTelInputGlobals.documentReady()?window.intlTelInputGlobals.loadUtils(this.options.utilsScript):window.addEventListener("load",(function(){window.intlTelInputGlobals.loadUtils(t.options.utilsScript)})):this.resolveUtilsScriptPromise(),"auto"===this.options.initialCountry?this._loadAutoCountry():this.resolveAutoCountryPromise()}},{key:"_loadAutoCountry",value:function(){window.intlTelInputGlobals.autoCountry?this.handleAutoCountry():window.intlTelInputGlobals.startedLoadingAutoCountry||(window.intlTelInputGlobals.startedLoadingAutoCountry=!0,"function"==typeof this.options.geoIpLookup&&this.options.geoIpLookup((function(t){window.intlTelInputGlobals.autoCountry=t.toLowerCase(),setTimeout((function(){return c("handleAutoCountry")}))}),(function(){return c("rejectAutoCountryPromise")})))}},{key:"_initKeyListeners",value:function(){var t=this;this._handleKeyupEvent=function(){t._updateFlagFromNumber(t.telInput.value)&&t._triggerCountryChange()},this.telInput.addEventListener("keyup",this._handleKeyupEvent),this._handleClipboardEvent=function(){setTimeout(t._handleKeyupEvent)},this.telInput.addEventListener("cut",this._handleClipboardEvent),this.telInput.addEventListener("paste",this._handleClipboardEvent)}},{key:"_cap",value:function(t){var e=this.telInput.getAttribute("maxlength");return e&&t.length>e?t.substr(0,e):t}},{key:"_initBlurListeners",value:function(){var t=this;this._handleSubmitOrBlurEvent=function(){t._removeEmptyDialCode()},this.telInput.form&&this.telInput.form.addEventListener("submit",this._handleSubmitOrBlurEvent),this.telInput.addEventListener("blur",this._handleSubmitOrBlurEvent)}},{key:"_removeEmptyDialCode",value:function(){if("+"===this.telInput.value.charAt(0)){var t=this._getNumeric(this.telInput.value);t&&this.selectedCountryData.dialCode!==t||(this.telInput.value="")}}},{key:"_getNumeric",value:function(t){return t.replace(/\D/g,"")}},{key:"_trigger",value:function(t){var e=document.createEvent("Event");e.initEvent(t,!0,!0),this.telInput.dispatchEvent(e)}},{key:"_showDropdown",value:function(){this.countryList.classList.remove("iti__hide"),this.selectedFlag.setAttribute("aria-expanded","true"),this._setDropdownPosition(),this.activeItem&&(this._highlightListItem(this.activeItem,!1),this._scrollTo(this.activeItem,!0)),this._bindDropdownListeners(),this.dropdownArrow.classList.add("iti__arrow--up"),this._trigger("open:countrydropdown")}},{key:"_toggleClass",value:function(t,e,n){n&&!t.classList.contains(e)?t.classList.add(e):!n&&t.classList.contains(e)&&t.classList.remove(e)}},{key:"_setDropdownPosition",value:function(){var t=this;if(this.options.dropdownContainer&&this.options.dropdownContainer.appendChild(this.dropdown),!this.isMobile){var e=this.telInput.getBoundingClientRect(),n=window.pageYOffset||document.documentElement.scrollTop,i=e.top+n,r=this.countryList.offsetHeight,o=i+this.telInput.offsetHeight+r<n+window.innerHeight,a=i-r>n;if(this._toggleClass(this.countryList,"iti__country-list--dropup",!o&&a),this.options.dropdownContainer){var s=!o&&a?0:this.telInput.offsetHeight;this.dropdown.style.top="".concat(i+s,"px"),this.dropdown.style.left="".concat(e.left+document.body.scrollLeft,"px"),this._handleWindowScroll=function(){return t._closeDropdown()},window.addEventListener("scroll",this._handleWindowScroll)}}}},{key:"_getClosestListItem",value:function(t){for(var e=t;e&&e!==this.countryList&&!e.classList.contains("iti__country");)e=e.parentNode;return e===this.countryList?null:e}},{key:"_bindDropdownListeners",value:function(){var t=this;this._handleMouseoverCountryList=function(e){var n=t._getClosestListItem(e.target);n&&t._highlightListItem(n,!1)},this.countryList.addEventListener("mouseover",this._handleMouseoverCountryList),this._handleClickCountryList=function(e){var n=t._getClosestListItem(e.target);n&&t._selectListItem(n)},this.countryList.addEventListener("click",this._handleClickCountryList);var e=!0;this._handleClickOffToClose=function(){e||t._closeDropdown(),e=!1},document.documentElement.addEventListener("click",this._handleClickOffToClose);var n="",i=null;this._handleKeydownOnDropdown=function(e){e.preventDefault(),"ArrowUp"===e.key||"Up"===e.key||"ArrowDown"===e.key||"Down"===e.key?t._handleUpDownKey(e.key):"Enter"===e.key?t._handleEnterKey():"Escape"===e.key?t._closeDropdown():/^[a-zA-ZÀ-ÿа-яА-Я ]$/.test(e.key)&&(i&&clearTimeout(i),n+=e.key.toLowerCase(),t._searchForCountry(n),i=setTimeout((function(){n=""}),1e3))},document.addEventListener("keydown",this._handleKeydownOnDropdown)}},{key:"_handleUpDownKey",value:function(t){var e="ArrowUp"===t||"Up"===t?this.highlightedItem.previousElementSibling:this.highlightedItem.nextElementSibling;e&&(e.classList.contains("iti__divider")&&(e="ArrowUp"===t||"Up"===t?e.previousElementSibling:e.nextElementSibling),this._highlightListItem(e,!0))}},{key:"_handleEnterKey",value:function(){this.highlightedItem&&this._selectListItem(this.highlightedItem)}},{key:"_searchForCountry",value:function(t){for(var e=0;e<this.countries.length;e++)if(this._startsWith(this.countries[e].name,t)){var n=this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(this.countries[e].iso2));this._highlightListItem(n,!1),this._scrollTo(n,!0);break}}},{key:"_startsWith",value:function(t,e){return t.substr(0,e.length).toLowerCase()===e}},{key:"_updateValFromNumber",value:function(t){var e=t;if(this.options.formatOnDisplay&&window.intlTelInputUtils&&this.selectedCountryData){var n=!this.options.separateDialCode&&(this.options.nationalMode||"+"!==e.charAt(0)),i=intlTelInputUtils.numberFormat,r=i.NATIONAL,o=i.INTERNATIONAL,a=n?r:o;e=intlTelInputUtils.formatNumber(e,this.selectedCountryData.iso2,a)}e=this._beforeSetNumber(e),this.telInput.value=e}},{key:"_updateFlagFromNumber",value:function(t){var e=t,n=this.selectedCountryData.dialCode,i="1"===n;e&&this.options.nationalMode&&i&&"+"!==e.charAt(0)&&("1"!==e.charAt(0)&&(e="1".concat(e)),e="+".concat(e)),this.options.separateDialCode&&n&&"+"!==e.charAt(0)&&(e="+".concat(n).concat(e));var r=this._getDialCode(e,!0),o=this._getNumeric(e),a=null;if(r){var s=this.countryCodes[this._getNumeric(r)],l=-1!==s.indexOf(this.selectedCountryData.iso2)&&o.length<=r.length-1;if(!("1"===n&&this._isRegionlessNanp(o)||l))for(var u=0;u<s.length;u++)if(s[u]){a=s[u];break}}else"+"===e.charAt(0)&&o.length?a="":e&&"+"!==e||(a=this.defaultCountry);return null!==a&&this._setFlag(a)}},{key:"_isRegionlessNanp",value:function(t){var e=this._getNumeric(t);if("1"===e.charAt(0)){var n=e.substr(1,3);return-1!==l.indexOf(n)}return!1}},{key:"_highlightListItem",value:function(t,e){var n=this.highlightedItem;n&&n.classList.remove("iti__highlight"),this.highlightedItem=t,this.highlightedItem.classList.add("iti__highlight"),e&&this.highlightedItem.focus()}},{key:"_getCountryData",value:function(t,n,i){for(var r=n?e:this.countries,o=0;o<r.length;o++)if(r[o].iso2===t)return r[o];if(i)return null;throw new Error("No country data for '".concat(t,"'"))}},{key:"_setFlag",value:function(t){var e=this.selectedCountryData.iso2?this.selectedCountryData:{};this.selectedCountryData=t?this._getCountryData(t,!1,!1):{},this.selectedCountryData.iso2&&(this.defaultCountry=this.selectedCountryData.iso2),this.selectedFlagInner.setAttribute("class","iti__flag iti__".concat(t));var n=t?"".concat(this.selectedCountryData.name,": +").concat(this.selectedCountryData.dialCode):"Unknown";if(this.selectedFlag.setAttribute("title",n),this.options.separateDialCode){var i=this.selectedCountryData.dialCode?"+".concat(this.selectedCountryData.dialCode):"";this.selectedDialCode.innerHTML=i;var r=this.selectedFlag.offsetWidth||this._getHiddenSelectedFlagWidth();this.telInput.style.paddingLeft="".concat(r+6,"px")}if(this._updatePlaceholder(),this.options.allowDropdown){var o=this.activeItem;if(o&&(o.classList.remove("iti__active"),o.setAttribute("aria-selected","false")),t){var a=this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(t,"-preferred"))||this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(t));a.setAttribute("aria-selected","true"),a.classList.add("iti__active"),this.activeItem=a,this.selectedFlag.setAttribute("aria-activedescendant",a.getAttribute("id"))}}return e.iso2!==t}},{key:"_getHiddenSelectedFlagWidth",value:function(){var t=this.telInput.parentNode.cloneNode();t.style.visibility="hidden",document.body.appendChild(t);var e=this.flagsContainer.cloneNode();t.appendChild(e);var n=this.selectedFlag.cloneNode(!0);e.appendChild(n);var i=n.offsetWidth;return t.parentNode.removeChild(t),i}},{key:"_updatePlaceholder",value:function(){var t="aggressive"===this.options.autoPlaceholder||!this.hadInitialPlaceholder&&"polite"===this.options.autoPlaceholder;if(window.intlTelInputUtils&&t){var e=intlTelInputUtils.numberType[this.options.placeholderNumberType],n=this.selectedCountryData.iso2?intlTelInputUtils.getExampleNumber(this.selectedCountryData.iso2,this.options.nationalMode,e):"";n=this._beforeSetNumber(n),"function"==typeof this.options.customPlaceholder&&(n=this.options.customPlaceholder(n,this.selectedCountryData)),this.telInput.setAttribute("placeholder",n)}}},{key:"_selectListItem",value:function(t){var e=this._setFlag(t.getAttribute("data-country-code"));this._closeDropdown(),this._updateDialCode(t.getAttribute("data-dial-code"),!0),this.telInput.focus();var n=this.telInput.value.length;this.telInput.setSelectionRange(n,n),e&&this._triggerCountryChange()}},{key:"_closeDropdown",value:function(){this.countryList.classList.add("iti__hide"),this.selectedFlag.setAttribute("aria-expanded","false"),this.dropdownArrow.classList.remove("iti__arrow--up"),document.removeEventListener("keydown",this._handleKeydownOnDropdown),document.documentElement.removeEventListener("click",this._handleClickOffToClose),this.countryList.removeEventListener("mouseover",this._handleMouseoverCountryList),this.countryList.removeEventListener("click",this._handleClickCountryList),this.options.dropdownContainer&&(this.isMobile||window.removeEventListener("scroll",this._handleWindowScroll),this.dropdown.parentNode&&this.dropdown.parentNode.removeChild(this.dropdown)),this._trigger("close:countrydropdown")}},{key:"_scrollTo",value:function(t,e){var n=this.countryList,i=window.pageYOffset||document.documentElement.scrollTop,r=n.offsetHeight,o=n.getBoundingClientRect().top+i,a=o+r,s=t.offsetHeight,l=t.getBoundingClientRect().top+i,u=l+s,c=l-o+n.scrollTop,d=r/2-s/2;if(l<o)e&&(c-=d),n.scrollTop=c;else if(u>a){e&&(c+=d);var h=r-s;n.scrollTop=c-h}}},{key:"_updateDialCode",value:function(t,e){var n,i=this.telInput.value,r="+".concat(t);if("+"===i.charAt(0)){var o=this._getDialCode(i);n=o?i.replace(o,r):r}else{if(this.options.nationalMode||this.options.separateDialCode)return;if(i)n=r+i;else{if(!e&&this.options.autoHideDialCode)return;n=r}}this.telInput.value=n}},{key:"_getDialCode",value:function(t,e){var n="";if("+"===t.charAt(0))for(var i="",r=0;r<t.length;r++){var o=t.charAt(r);if(!isNaN(parseInt(o,10))){if(i+=o,e)this.countryCodes[i]&&(n=t.substr(0,r+1));else if(this.dialCodes[i]){n=t.substr(0,r+1);break}if(i.length===this.countryCodeMaxLen)break}}return n}},{key:"_getFullNumber",value:function(){var t=this.telInput.value.trim(),e=this.selectedCountryData.dialCode,n=this._getNumeric(t);return(this.options.separateDialCode&&"+"!==t.charAt(0)&&e&&n?"+".concat(e):"")+t}},{key:"_beforeSetNumber",value:function(t){var e=t;if(this.options.separateDialCode){var n=this._getDialCode(e);if(n){var i=" "===e[(n="+".concat(this.selectedCountryData.dialCode)).length]||"-"===e[n.length]?n.length+1:n.length;e=e.substr(i)}}return this._cap(e)}},{key:"_triggerCountryChange",value:function(){this._trigger("countrychange")}},{key:"handleAutoCountry",value:function(){"auto"===this.options.initialCountry&&(this.defaultCountry=window.intlTelInputGlobals.autoCountry,this.telInput.value||this.setCountry(this.defaultCountry),this.resolveAutoCountryPromise())}},{key:"handleUtils",value:function(){window.intlTelInputUtils&&(this.telInput.value&&this._updateValFromNumber(this.telInput.value),this._updatePlaceholder()),this.resolveUtilsScriptPromise()}},{key:"destroy",value:function(){var t=this.telInput.form;if(this.options.allowDropdown){this._closeDropdown(),this.selectedFlag.removeEventListener("click",this._handleClickSelectedFlag),this.flagsContainer.removeEventListener("keydown",this._handleFlagsContainerKeydown);var e=this._getClosestLabel();e&&e.removeEventListener("click",this._handleLabelClick)}this.hiddenInput&&t&&t.removeEventListener("submit",this._handleHiddenInputSubmit),this.options.autoHideDialCode&&(t&&t.removeEventListener("submit",this._handleSubmitOrBlurEvent),this.telInput.removeEventListener("blur",this._handleSubmitOrBlurEvent)),this.telInput.removeEventListener("keyup",this._handleKeyupEvent),this.telInput.removeEventListener("cut",this._handleClipboardEvent),this.telInput.removeEventListener("paste",this._handleClipboardEvent),this.telInput.removeAttribute("data-intl-tel-input-id");var n=this.telInput.parentNode;n.parentNode.insertBefore(this.telInput,n),n.parentNode.removeChild(n),delete window.intlTelInputGlobals.instances[this.id]}},{key:"getExtension",value:function(){return window.intlTelInputUtils?intlTelInputUtils.getExtension(this._getFullNumber(),this.selectedCountryData.iso2):""}},{key:"getNumber",value:function(t){if(window.intlTelInputUtils){var e=this.selectedCountryData.iso2;return intlTelInputUtils.formatNumber(this._getFullNumber(),e,t)}return""}},{key:"getNumberType",value:function(){return window.intlTelInputUtils?intlTelInputUtils.getNumberType(this._getFullNumber(),this.selectedCountryData.iso2):-99}},{key:"getSelectedCountryData",value:function(){return this.selectedCountryData}},{key:"getValidationError",value:function(){if(window.intlTelInputUtils){var t=this.selectedCountryData.iso2;return intlTelInputUtils.getValidationError(this._getFullNumber(),t)}return-99}},{key:"isValidNumber",value:function(){var t=this._getFullNumber().trim(),e=this.options.nationalMode?this.selectedCountryData.iso2:"";return window.intlTelInputUtils?intlTelInputUtils.isValidNumber(t,e):null}},{key:"setCountry",value:function(t){var e=t.toLowerCase();this.selectedFlagInner.classList.contains("iti__".concat(e))||(this._setFlag(e),this._updateDialCode(this.selectedCountryData.dialCode,!1),this._triggerCountryChange())}},{key:"setNumber",value:function(t){var e=this._updateFlagFromNumber(t);this._updateValFromNumber(t),e&&this._triggerCountryChange()}},{key:"setPlaceholderNumberType",value:function(t){this.options.placeholderNumberType=t,this._updatePlaceholder()}}],o&&r(i.prototype,o),n}();o.getCountryData=function(){return e};var h=function(t,e,n){var i=document.createElement("script");i.onload=function(){c("handleUtils"),e&&e()},i.onerror=function(){c("rejectUtilsScriptPromise"),n&&n()},i.className="iti-load-utils",i.async=!0,i.src=t,document.body.appendChild(i)};return o.loadUtils=function(t){if(!window.intlTelInputUtils&&!window.intlTelInputGlobals.startedLoadingUtilsScript){if(window.intlTelInputGlobals.startedLoadingUtilsScript=!0,"undefined"!=typeof Promise)return new Promise((function(e,n){return h(t,e,n)}));h(t)}return null},o.defaults=s,o.version="17.0.19",function(t,e){var n=new d(t,e);return n._init(),t.setAttribute("data-intl-tel-input-id",n.id),window.intlTelInputGlobals.instances[n.id]=n,n}}()},t.exports?t.exports=e():window.intlTelInput=e()},583:(t,e,n)=>{t.exports=n(51)}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";const t=React;var e=n.n(t);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(o.push(i.value),!e||o.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}ReactDOM;const a=function(){function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.api_url=e.api_url,this.on_api_error=e.on_api_error||function(t){},this}var e,n;return e=t,(n=[{key:"get_api_url",value:function(t){return"".concat(this.api_url,"/").concat(t,"#").concat(location.search)}},{key:"get_json",value:function(t,e){var n,i,r,o,a,s;return null==e&&(e={}),r=e.method||"POST",n=JSON.stringify(e.data)||"{}",o=this.on_api_error,s=this.get_api_url(t),i={method:r,headers:{"Content-Type":"application/json","X-CSRF-TOKEN":this.get_csrf_token()},body:"POST"===r?n:null,credentials:"include"},a=new Request(s,i),fetch(a).then((function(t){return t.ok?t:Promise.reject(t)})).then((function(t){return t.json()})).catch((function(t){return o(t),t}))}},{key:"search",value:function(t,e,n){n=n||{};for(var r="search?catalog=".concat(t),o=function(){var t=i(s[a],2),e=t[0],n=t[1];if(Array.isArray(n))return n.forEach((function(t){r+="&".concat(e,"=").concat(t)})),"continue";"path"==e&&null!==(n=n.query||null).depth&&(r+="&depth=".concat(n.depth)),n&&(r+="&".concat(e,"=").concat(n))},a=0,s=Object.entries(e);a<s.length;a++)o();for(var l=0,u=Object.entries(n);l<u.length;l++){var c=i(u[l],2),d=c[0],h=c[1];r+="&".concat(d,"=").concat(h)}return this.get_json(r,{method:"GET"})}},{key:"get_csrf_token",value:function(){return document.querySelector("#protect-script").dataset.token}}])&&o(e.prototype,n),t}();function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return d(t)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}const p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(s,t);var n,i,r,o,a=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(r);if(o){var n=h(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return c(this,t)});function s(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=a.call(this,t)).state={},n.input_field_ref=e().createRef(),n.on_focus=n.on_focus.bind(d(n)),n.on_blur=n.on_blur.bind(d(n)),n.on_change=n.on_change.bind(d(n)),n.on_keydown=n.on_keydown.bind(d(n)),n.on_keypress=n.on_keypress.bind(d(n)),n.on_clear_click=n.on_clear_click.bind(d(n)),n.on_search_click=n.on_search_click.bind(d(n)),n}return n=s,(i=[{key:"get_search_value",value:function(){return this.input_field_ref.current.value}},{key:"on_focus",value:function(t){if(this.props.on_focus){var e=this.get_search_value()||null;this.props.on_focus(e)}}},{key:"on_blur",value:function(t){if(this.props.on_blur){var e=this.get_search_value();this.props.on_blur(e)}}},{key:"on_change",value:function(t){t.preventDefault();var e=this.get_search_value();this.props.on_search&&this.props.on_search(e)}},{key:"on_keydown",value:function(t){8==t.which&&""==this.get_search_value()&&this.props.on_clear(),40==t.which&&this.props.on_arrow_key&&this.props.on_arrow_key("down"),38==t.which&&this.props.on_arrow_key&&this.props.on_arrow_key("up"),37==t.which&&this.props.on_arrow_key&&this.props.on_arrow_key("left"),39==t.which&&this.props.on_arrow_key&&this.props.on_arrow_key("right")}},{key:"on_keypress",value:function(t){13==t.which&&(t.preventDefault(),this.props.on_enter&&this.props.on_enter())}},{key:"on_clear_click",value:function(t){if(t.preventDefault(),this.props.on_clear){var e=this.get_search_value();this.props.on_clear(e),this.input_field_ref.current.value=""}}},{key:"on_search_click",value:function(t){if(t.preventDefault(),this.props.on_search){var e=this.get_search_value();this.props.on_search(e)}}},{key:"render",value:function(){return e().createElement("div",{className:"uidreferencewidget-search-field"},e().createElement("div",{className:"input-group"},e().createElement("input",(t={type:"text",name:this.props.name,className:this.props.className,ref:this.input_field_ref,disabled:this.props.disabled,onKeyDown:this.on_keydown,onKeyPress:this.on_keypress,onChange:this.on_change,onFocus:this.on_focus,onBlur:this.on_blur,placeholder:this.props.placeholder,style:{maxWidth:"160px"}},n="disabled",i=this.props.disabled,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t)),e().createElement("div",{class:"input-group-append"},e().createElement("button",{className:"btn btn-sm btn-outline-secondary",disabled:this.props.disabled,onClick:this.on_clear_click},e().createElement("i",{class:"fas fa-times"})),e().createElement("button",{className:"btn btn-sm btn-outline-primary",disabled:this.props.disabled,onClick:this.on_search_click},e().createElement("i",{class:"fas fa-search"})))));var t,n,i}}])&&l(n.prototype,i),s}(e().Component);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function y(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function m(t,e){return m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},m(t,e)}function b(t,e){if(e&&("object"===f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return g(t)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}const C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(s,t);var n,i,r,o,a=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=w(r);if(o){var n=w(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return b(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).on_select=e.on_select.bind(g(e)),e.on_page=e.on_page.bind(g(e)),e.on_prev_page=e.on_prev_page.bind(g(e)),e.on_next_page=e.on_next_page.bind(g(e)),e.on_close=e.on_close.bind(g(e)),e}return n=s,(i=[{key:"get_columns",value:function(){return this.props.columns||[]}},{key:"get_column_names",value:function(){return this.get_columns().map((function(t){return t.name}))}},{key:"get_column_labels",value:function(){return this.get_columns().map((function(t){return t.label}))}},{key:"get_results",value:function(){return this.props.results||[]}},{key:"has_results",value:function(){return this.get_results().length>0}},{key:"get_style",value:function(){return{minWidth:this.props.width||"400px",backgroundColor:"white",zIndex:999999}}},{key:"get_result_uid",value:function(t){return t.uid||"NO UID FOUND!"}},{key:"is_uid_selected",value:function(t){return this.props.uids.indexOf(t)>-1}},{key:"build_header_columns",value:function(){var t,n=[],i=y(this.get_columns());try{for(i.s();!(t=i.n()).done;){var r=t.value,o=r.label||r.title,a=r.width||"auto",s=r.align||"left";n.push(e().createElement("th",{className:"border-top-0",width:a,align:s},_t(o)))}}catch(t){i.e(t)}finally{i.f()}return n.push(e().createElement("th",{className:"border-top-0",width:"1"})),n}},{key:"build_rows",value:function(){var t=this,n=[];return this.get_results().forEach((function(i,r){var o=t.get_result_uid(i);n.push(e().createElement("tr",{uid:o,className:t.props.focused==r?"table-active":"",onClick:t.on_select},t.build_columns(i)))})),n}},{key:"build_columns",value:function(t){var n,i=[],r=this.props.searchterm||"",o=y(this.get_column_names());try{for(o.s();!(n=o.n()).done;){var a=t[n.value],s=this.highlight(a,r);i.push(e().createElement("td",{dangerouslySetInnerHTML:{__html:s}}))}}catch(t){o.e(t)}finally{o.f()}var l=t.uid,u=this.props.uids.indexOf(l)>-1;return i.push(e().createElement("td",null,u&&e().createElement("i",{class:"fas fa-link text-success"}))),i}},{key:"highlight",value:function(t,e){if(0==e.length)return t;try{var n=new RegExp(e,"gi");t=t.replaceAll(n,(function(t){return"<span class='font-weight-bold text-info'>"+t+"</span>"}))}catch(t){}return t}},{key:"build_pages",value:function(){for(var t=[],n=this.props.pages,i=this.props.page,r=this.props.padding,o=i-r>0?i-r:1,a=i+r<n?i+r:n,s=1!==o,l=a<n,u=o;u<=a;u++){var c=["page-item"];i===u&&c.push("active"),u==o&&s&&(t.push(e().createElement("li",null,e().createElement("button",{className:"page-link",page:1,onClick:this.on_page},"1"))),t.push(e().createElement("li",null,e().createElement("div",{className:"page-link"},"..."))),s=!1),t.push(e().createElement("li",{className:c.join(" ")},e().createElement("button",{className:"page-link",page:u,onClick:this.on_page},u))),u===a&&l&&(t.push(e().createElement("li",null,e().createElement("div",{className:"page-link"},"..."))),t.push(e().createElement("li",null,e().createElement("button",{className:"page-link",page:n,onClick:this.on_page},n))),l=!1)}return t}},{key:"build_next_button",value:function(){var t=["page-item"];return this.props.next_url||t.push("disabled"),e().createElement("li",{className:t.join(" ")},e().createElement("button",{className:"page-link",onClick:this.on_next_page},"Next"))}},{key:"build_prev_button",value:function(){var t=["page-item"];return this.props.prev_url||t.push("disabled"),e().createElement("li",{className:t.join(" ")},e().createElement("button",{className:"page-link",onClick:this.on_prev_page},"Previous"))}},{key:"build_close_button",value:function(){return e().createElement("button",{className:"btn btn-sm btn-link",onClick:this.on_close},e().createElement("i",{class:"fas fa-window-close"}))}},{key:"on_select",value:function(t){t.preventDefault();var e=t.currentTarget.getAttribute("uid");this.props.on_select&&this.props.on_select(e)}},{key:"on_page",value:function(t){t.preventDefault();var e=t.currentTarget.getAttribute("page");e!=this.props.page&&this.props.on_page&&this.props.on_page(e)}},{key:"on_prev_page",value:function(t){t.preventDefault();var e=this.props.page;e<2||this.props.on_page&&this.props.on_page(e-1)}},{key:"on_next_page",value:function(t){t.preventDefault();var e=this.props.page;e+1>this.props.pages||this.props.on_page&&this.props.on_page(e+1)}},{key:"on_close",value:function(t){t.preventDefault(),this.props.on_clear&&this.props.on_clear()}},{key:"render",value:function(){return this.has_results()?e().createElement("div",{className:this.props.className,style:this.get_style()},e().createElement("div",{style:{position:"absolute",top:0,right:0}},this.build_close_button()),e().createElement("table",{className:"table table-sm table-hover small"},e().createElement("thead",null,e().createElement("tr",null,this.build_header_columns())),e().createElement("tbody",null,this.build_rows())),this.props.pages>1&&e().createElement("nav",null,e().createElement("ul",{className:"pagination pagination-sm justify-content-center"},this.build_prev_button(),this.build_pages(),this.build_next_button()))):null}}])&&_(n.prototype,i),s}(e().Component);function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function E(t,e){if(t){if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(t,e):void 0}}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function I(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function O(t,e){return O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},O(t,e)}function L(t,e){if(e&&("object"===k(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return j(t)}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A(t){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},A(t)}const T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(s,t);var n,i,r,o,a=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=A(r);if(o){var n=A(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return L(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).on_deselect=e.on_deselect.bind(j(e)),e}return n=s,(i=[{key:"get_selected_uids",value:function(){return this.props.uids||[]}},{key:"interpolate",value:function(t,e){for(var n=0,i=Object.entries(e);n<i.length;n++){var r=(s=i[n],l=2,function(t){if(Array.isArray(t))return t}(s)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(o.push(i.value),!e||o.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(s,l)||E(s,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],a=r[1];t=t.replace(new RegExp("\\$\\{"+o+"\\}","g"),a)}var s,l;return t}},{key:"render_display_template",value:function(t){var e=this.props.display_template,n=this.props.records[t];return n?this.interpolate(e,n):t}},{key:"build_selected_items",value:function(){var t,n=[],i=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=E(t))){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this.get_selected_uids());try{for(i.s();!(t=i.n()).done;){var r=t.value;n.push(e().createElement("li",{uid:r},e().createElement("div",{className:"p-1 mb-1 mr-1 bg-light border rounded d-inline-block"},e().createElement("span",{dangerouslySetInnerHTML:{__html:this.render_display_template(r)}}),e().createElement("button",{uid:r,className:"btn btn-sm btn-link-danger",onClick:this.on_deselect},e().createElement("i",{className:"fas fa-times-circle"})))))}}catch(t){i.e(t)}finally{i.f()}return n}},{key:"on_deselect",value:function(t){t.preventDefault();var e=t.currentTarget.getAttribute("uid");this.props.on_deselect&&this.props.on_deselect(e)}},{key:"render",value:function(){return e().createElement("div",{className:"uidreferencewidget-references"},e().createElement("ul",{className:"list-unstyled list-group list-group-horizontal"},this.build_selected_items()),e().createElement("textarea",{className:"d-none",name:this.props.name,value:this.props.uids.join("\n")}))}}])&&I(n.prototype,i),s}(e().Component);function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function P(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function x(t,e){return x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},x(t,e)}function R(t,e){if(e&&("object"===D(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return M(t)}function M(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}const F=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(l,t);var n,i,r,o,s=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=B(r);if(o){var n=B(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return R(this,t)});function l(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(e=s.call(this,t)).state={results:[],searchterm:"",loading:!1,count:0,page:1,pages:1,next_url:null,prev_url:null,b_start:1,focused:0,padding:3};for(var n=t.root_el,i=0,r=["id","name","uids","api_url","records","catalog","query","columns","display_template","limit","multi_valued","disabled","readonly","padding"];i<r.length;i++){var o=r[i],u=n.dataset[o];void 0!==u&&(e.state[o]=e.parse_json(u))}return e.api=new a({api_url:e.state.api_url}),e.search=e.search.bind(M(e)),e.goto_page=e.goto_page.bind(M(e)),e.clear_results=e.clear_results.bind(M(e)),e.select=e.select.bind(M(e)),e.select_focused=e.select_focused.bind(M(e)),e.deselect=e.deselect.bind(M(e)),e.navigate_results=e.navigate_results.bind(M(e)),e.on_keydown=e.on_keydown.bind(M(e)),e.on_click=e.on_click.bind(M(e)),window.widget=M(e),R(e,M(e))}return n=l,(i=[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.on_keydown,!1),document.addEventListener("click",this.on_click,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.on_keydown,!1),document.removeEventListener("click",this.on_click,!1)}},{key:"parse_json",value:function(t){try{return JSON.parse(t)}catch(t){}}},{key:"is_disabled",value:function(){return!!this.state.disabled||!!this.state.readonly||!this.state.multi_valued&&this.state.uids.length>0}},{key:"make_query",value:function(t){return t=t||{},Object.assign({q:this.state.searchterm,limit:this.state.limit,complete:1},t,this.state.query)}},{key:"fetch_results",value:function(t){t=t||{};var e=this,n=this.make_query();this.toggle_loading(!0);var i=this.api.search(this.state.catalog,n,t);return i.then((function(t){e.set_results_data(t),e.toggle_loading(!1)})),i}},{key:"search",value:function(t){if(t||!(this.state.results.length>0))return this.state.searchterm=t||"",this.fetch_results();this.state.searchterm=""}},{key:"goto_page",value:function(t){t=parseInt(t);var e=parseInt(this.state.limit),n=t*e-e;return this.fetch_results({b_start:n})}},{key:"select",value:function(t){var e=[].concat(this.state.uids);return-1==e.indexOf(t)&&e.push(t),this.setState({uids:e}),e.length>0&&!this.state.multi_valued&&this.clear_results(),e}},{key:"select_focused",value:function(){var t=this.state.focused,e=this.state.results.at(t);if(e){var n=e.uid;-1==this.state.uids.indexOf(n)?this.select(n):this.deselect(n)}}},{key:"deselect",value:function(t){var e=[].concat(this.state.uids),n=e.indexOf(t);return n>-1&&e.splice(n,1),this.setState({uids:e}),e}},{key:"navigate_results",value:function(t){var e=this.state.page,n=this.state.pages,i=this.state.results,r=this.state.focused,o=this.state.searchterm;"up"==t?r>0?this.setState({focused:r-1}):(this.setState({focused:0}),e>1&&this.goto_page(e-1)):"down"==t?(0==this.state.results.length&&this.search(o),r<i.length-1?this.setState({focused:r+1}):(this.setState({focused:0}),e<n&&this.goto_page(e+1))):"left"==t?(this.setState({focused:0}),e>0&&this.goto_page(e-1)):"right"==t&&(this.setState({focused:0}),e<n&&this.goto_page(e+1))}},{key:"toggle_loading",value:function(t){return null==t&&(t=!1),this.setState({loading:t}),t}},{key:"set_results_data",value:function(t){var e,n=(t=t||{}).items||[],i=Object.assign(this.state.records,{}),r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return N(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(n);try{for(r.s();!(e=r.n()).done;){var o=e.value;i[o.uid]=o}}catch(t){r.e(t)}finally{r.f()}this.setState({records:i,results:n,count:t.count||0,page:t.page||1,pages:t.pages||1,next_url:t.next||null,prev_url:t.previous||null})}},{key:"clear_results",value:function(){this.setState({results:[],count:0,page:1,pages:1,next_url:null,prev_url:null})}},{key:"on_keydown",value:function(t){27===t.keyCode&&this.clear_results()}},{key:"on_click",value:function(t){var e=this.props.root_el,n=t.target;e.contains(n)||this.clear_results()}},{key:"render",value:function(){return e().createElement("div",{className:"uidreferencewidget"},e().createElement(T,{uids:this.state.uids,records:this.state.records,display_template:this.state.display_template,name:this.state.name,on_deselect:this.deselect}),e().createElement(p,{className:"form-control",name:"uidreference-search",disabled:this.is_disabled(),on_search:this.search,on_clear:this.clear_results,on_focus:this.search,on_arrow_key:this.navigate_results,on_enter:this.select_focused}),e().createElement(C,{className:"position-absolute shadow border rounded bg-white mt-1 p-1",columns:this.state.columns,uids:this.state.uids,searchterm:this.state.searchterm,results:this.state.results,focused:this.state.focused,count:this.state.count,page:this.state.page,pages:this.state.pages,padding:this.state.padding,next_url:this.state.next_url,prev_url:this.state.prev_url,on_select:this.select,on_page:this.goto_page,on_clear:this.clear_results}))}}])&&P(n.prototype,i),l}(e().Component);function U(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}const z=function(){function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.portal_url=e.portal_url,this.on_api_error=e.on_api_error||function(t){},this}var e,n;return e=t,(n=[{key:"get_url",value:function(t){return"".concat(this.portal_url,"/").concat(t)}},{key:"get_json",value:function(t,e){var n,i,r,o,a,s;return null==e&&(e={}),r=e.method||"POST",n=JSON.stringify(e.data)||"{}",o=this.on_api_error,s=this.get_url(t),i={method:r,headers:{"Content-Type":"application/json","X-CSRF-TOKEN":this.get_csrf_token()},body:"POST"===r?n:null,credentials:"include"},a=new Request(s,i),fetch(a).then((function(t){return t.ok?t:Promise.reject(t)})).then((function(t){return t.json()})).catch((function(t){return o(t),t}))}},{key:"fetch_subdivisions",value:function(t){var e={method:"POST",data:{parent:t}};return this.get_json("geo_subdivisions",e)}},{key:"get_csrf_token",value:function(){return document.querySelector("#protect-script").dataset.token}}])&&U(e.prototype,n),t}();function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function H(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function q(t,e){return q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},q(t,e)}function V(t,e){if(e&&("object"===G(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}const J=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(s,t);var n,i,r,o,a=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=W(r);if(o){var n=W(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return V(this,t)});function s(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),a.call(this,t)}return n=s,(i=[{key:"render_options",value:function(){var t=[],n=this.props.locations;if(t.push(e().createElement("option",{value:""})),Array.isArray(n)){var i,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return K(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;t.push(e().createElement("option",{value:o},o))}}catch(t){r.e(t)}finally{r.f()}}return t}},{key:"render",value:function(){return e().createElement("select",{id:this.props.id,name:this.props.name,value:this.props.value,onChange:this.props.onChange},this.render_options())}}])&&H(n.prototype,i),s}(e().Component);function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function Z(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Y(t,e){return Y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Y(t,e)}function X(t,e){if(e&&("object"===$(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Q(t){return Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Q(t)}const tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y(t,e)}(s,t);var n,i,r,o,a=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Q(r);if(o){var n=Q(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return X(this,t)});function s(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),a.call(this,t)}return n=s,(i=[{key:"is_location_selector",value:function(){return Array.isArray(this.props.locations)}},{key:"is_visible",value:function(){var t=!0;return this.is_location_selector()&&(t=this.props.locations.length>0),t}},{key:"render_element",value:function(){return this.is_location_selector()?e().createElement(J,{id:this.props.id,name:this.props.name,value:this.props.value,locations:this.props.locations,onChange:this.props.onChange}):e().createElement("input",{type:"text",id:this.props.id,name:this.props.name,value:this.props.value,onChange:this.props.onChange})}},{key:"render",value:function(){return this.is_visible()?e().createElement("div",{class:"form-group form-row mb-2"},e().createElement("div",{class:"col input-group input-group-sm"},e().createElement("div",{class:"input-group-prepend"},e().createElement("label",{class:"input-group-text",for:this.props.id},this.props.label)),this.render_element())):e().createElement("input",{type:"hidden",id:this.props.id,name:this.props.name,value:this.props.value})}}])&&Z(n.prototype,i),s}(e().Component);function et(t){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(t)}function nt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function it(t,e){return it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},it(t,e)}function rt(t,e){if(e&&("object"===et(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ot(t)}function ot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function at(t){return at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},at(t)}const st=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}(s,t);var n,i,r,o,a=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=at(r);if(o){var n=at(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return rt(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).state={country:t.country,subdivision1:t.subdivision1,subdivision2:t.subdivision2,city:t.city,zip:t.zip,address:t.address,address_type:t.address_type},e.on_country_change=e.on_country_change.bind(ot(e)),e.on_subdivision1_change=e.on_subdivision1_change.bind(ot(e)),e.on_subdivision2_change=e.on_subdivision2_change.bind(ot(e)),e.on_city_change=e.on_city_change.bind(ot(e)),e.on_zip_change=e.on_zip_change.bind(ot(e)),e.on_address_change=e.on_address_change.bind(ot(e)),e}return n=s,(i=[{key:"force_array",value:function(t){return Array.isArray(t)||(t=[]),t}},{key:"get_subdivisions1",value:function(){var t=this.state.country;return this.force_array(this.props.subdivisions1[t])}},{key:"get_subdivisions2",value:function(){var t=this.state.subdivision1;return this.force_array(this.props.subdivisions2[t])}},{key:"get_label",value:function(t){var e=this.state.country,n=this.props.labels[e];return null!=n&&n.constructor==Object&&t in n?n[t]:this.props.labels[t]}},{key:"on_country_change",value:function(t){var e=t.currentTarget.value;this.props.on_country_change&&this.props.on_country_change(e),this.setState({country:e,subdivision1:"",subdivision2:""})}},{key:"on_subdivision1_change",value:function(t){var e=t.currentTarget.value;if(this.props.on_subdivision1_change){var n=this.state.country;this.props.on_subdivision1_change(n,e)}this.setState({subdivision1:e,subdivision2:""})}},{key:"on_subdivision2_change",value:function(t){var e=t.currentTarget.value;this.props.on_subdivision2_change&&this.props.on_subdivision2_change(e),this.setState({subdivision2:e})}},{key:"on_address_change",value:function(t){var e=t.currentTarget.value;this.setState({address:e})}},{key:"on_zip_change",value:function(t){var e=t.currentTarget.value;this.setState({zip:e})}},{key:"on_city_change",value:function(t){var e=t.currentTarget.value;this.setState({city:e})}},{key:"get_input_id",value:function(t){var e=this.props.id,n=this.props.index;return"".concat(e,"-").concat(n,"-").concat(t)}},{key:"get_input_name",value:function(t){var e=this.props.name,n=this.props.index;return"".concat(e,".").concat(n,".").concat(t)}},{key:"render",value:function(){return e().createElement("div",null,e().createElement(tt,{id:this.get_input_id("country"),name:this.get_input_name("country"),label:this.props.labels.country,value:this.state.country,locations:this.props.countries,onChange:this.on_country_change}),e().createElement(tt,{id:this.get_input_id("subdivision1"),name:this.get_input_name("subdivision1"),label:this.get_label("subdivision1"),value:this.state.subdivision1,locations:this.get_subdivisions1(),onChange:this.on_subdivision1_change}),e().createElement(tt,{id:this.get_input_id("subdivision2"),name:this.get_input_name("subdivision2"),label:this.get_label("subdivision2"),value:this.state.subdivision2,locations:this.get_subdivisions2(),onChange:this.on_subdivision2_change}),e().createElement(tt,{id:this.get_input_id("city"),name:this.get_input_name("city"),label:this.props.labels.city,value:this.state.city,onChange:this.on_city_change}),e().createElement(tt,{id:this.get_input_id("zip"),name:this.get_input_name("zip"),label:this.props.labels.zip,value:this.state.zip,onChange:this.on_zip_change}),e().createElement(tt,{id:this.get_input_id("address"),name:this.get_input_name("address"),label:this.props.labels.address,value:this.state.address,onChange:this.on_address_change}),e().createElement("input",{type:"hidden",id:this.get_input_id("type"),name:this.get_input_name("type"),value:this.state.address_type}))}}])&&nt(n.prototype,i),s}(e().Component);function lt(t){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(t)}function ut(t,e){if(t){if("string"==typeof t)return ct(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ct(t,e):void 0}}function ct(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dt(Object(n),!0).forEach((function(e){pt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ft(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function yt(t,e){return yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},yt(t,e)}function vt(t,e){if(e&&("object"===lt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return mt(t)}function mt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bt(t){return bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bt(t)}const gt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yt(t,e)}(s,t);var n,i,r,o,a=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(o){var n=bt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return vt(this,t)});function s(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),e=a.call(this,t);var n=t.root_el;e.state={};for(var i=0,r=["id","name","items","portal_url","labels","countries","subdivisions1","subdivisions2"];i<r.length;i++){var o=r[i],l=n.dataset[o];e.state[o]=e.parse_json(l)}return e.api=new z({portal_url:e.state.portal_url}),e.on_country_change=e.on_country_change.bind(mt(e)),e.on_subdivision1_change=e.on_subdivision1_change.bind(mt(e)),vt(e,mt(e))}return n=s,(i=[{key:"parse_json",value:function(t){try{return JSON.parse(t)}catch(t){}}},{key:"on_country_change",value:function(t){var e=this,n=this.api.fetch_subdivisions(t);return n.then((function(n){var i=ht({},e.state.labels);n.length>0&&(i[t].subdivision1=n[0].type);var r=ht({},e.state.subdivisions1);r[t]=n.map((function(t){return t.name})).sort(),e.setState({subdivisions1:r,labels:i})})),n}},{key:"on_subdivision1_change",value:function(t,e){var n=this,i=this.api.fetch_subdivisions(e);return i.then((function(i){var r=ht({},n.state.labels);i.length>0&&(r[t].subdivision2=i[0].type);var o=ht({},n.state.subdivisions2);o[e]=i.map((function(t){return t.name})).sort(),n.setState({subdivisions2:o,labels:r})})),i}},{key:"render_items",value:function(){var t,n,i,r=[],o=this.state.items,a=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=ut(t))){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(o.entries());try{for(a.s();!(t=a.n()).done;){var s=(n=t.value,i=2,function(t){if(Array.isArray(t))return t}(n)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(o.push(i.value),!e||o.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(n,i)||ut(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],u=s[1],c="";o.length>1&&(c=e().createElement("strong",null,this.state.labels[u.type])),r.push(e().createElement("div",{class:"mb-2 pt-2"},c,e().createElement(st,{id:this.state.id,name:this.state.name,index:l,address_type:u.type,country:u.country,subdivision1:u.subdivision1,subdivision2:u.subdivision2,city:u.city,zip:u.zip,address:u.address,labels:this.state.labels,countries:this.state.countries,subdivisions1:this.state.subdivisions1,subdivisions2:this.state.subdivisions2,on_country_change:this.on_country_change,on_subdivision1_change:this.on_subdivision1_change})))}}catch(t){a.e(t)}finally{a.f()}return r}},{key:"render",value:function(){return e().createElement("div",{className:"addresswidget"},this.render_items())}}])&&ft(n.prototype,i),s}(e().Component);var wt=n(583),Ct=n.n(wt);function kt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Et(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Et(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Et(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}document.addEventListener("DOMContentLoaded",(function(){window.widgets={},tinymce.init({height:300,paste_data_images:!0,selector:["textarea.mce_editable","div.ArchetypesRichWidget textarea","textarea[name='form.widgets.IRichTextBehavior.text']","textarea.richTextWidget"].join(","),plugins:["paste","link","fullscreen","table","code"],content_css:"/++plone++senaite.core.static/bundles/senaite.core.css"});var t,e=kt(document.getElementsByClassName("senaite-uidreference-widget-input"));try{for(e.s();!(t=e.n()).done;){var n=t.value,i=n.dataset.id,r=ReactDOM.render(React.createElement(F,{root_el:n}),n);window.widgets[i]=r}}catch(t){e.e(t)}finally{e.f()}var o,a=kt(document.getElementsByClassName("senaite-address-widget-input"));try{for(a.s();!(o=a.n()).done;){var s=o.value,l=s.dataset.id,u=ReactDOM.render(React.createElement(gt,{root_el:s}),s);window.widgets[l]=u}}catch(t){a.e(t)}finally{a.f()}var c,d=document.getElementsByClassName("senaite-phone-widget-input"),h=function(t){Ct()(t,{dropdownContainer:document.body})},p=kt(d);try{for(p.s();!(c=p.n()).done;){var f=c.value;h(f)}}catch(t){p.e(t)}finally{p.f()}document.addEventListener("datagrid:row_added",(function(t){var e=t.detail.row.querySelector(".senaite-phone-widget-input");e&&h(e)}))}))})()})();
//# sourceMappingURL=seniate.core.widgets.js.map